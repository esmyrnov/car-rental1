<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="fragments/head :: head('Admin Bookings')"></th:block>
<body>
<th:block th:replace="fragments/header :: header"></th:block>

<div class="page">
    <h2>Бронювання</h2>

    <div class="table">
        <div class="tr th">
            <div>Користувач</div><div>Авто</div><div>Період</div><div>Статус</div><div>Дія</div>
        </div>

        <div class="tr" th:each="b : ${bookings}">
            <div th:text="${b.user.email}"></div>
            <div th:text="${b.car.make} + ' ' + ${b.car.model}"></div>
            <div th:text="${b.startDate} + ' → ' + ${b.endDate}"></div>
            <div>
                <span class="badge ok" th:if="${b.active}">Активне</span>
                <span class="badge bad" th:if="${!b.active}">Скасовано</span>
            </div>
            <div>
                <form th:if="${b.active}" th:action="@{/admin/bookings/{id}/cancel(id=${b.id})}" method="post">
                    <button class="btn danger">Скасувати</button>
                </form>
            </div>
        </div>
    </div>
</div>

<th:block th:replace="fragments/footer :: footer"></th:block>
</body>
</html>
